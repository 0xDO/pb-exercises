Helpful Reminders:

Transaction consists of:
* Version - 4 bytes, little endian, always 1
* Number of inputs
* Each input has
  * transaction hash, little endian 32 bytes
  * output index, little endian 4 bytes
  * scriptSig, 00 until it's replaced
  * sequence 0xffffffff
* Number of outputs
* Each output has
  * amount in satoshi, little endian 8 bytes
  * scriptpubkey
* locktime, 4 bytes, usually 0

To get scriptPubKey from address:
>>> from pycoin.encoding import a2b_hashed_base58
>>> from binascii import hexlify
>>> hexlify(a2b_hashed_base58('mnrVtF8DWjMu839VW3rBfgYaAfKk8983Xf')[1:])
'507b27411ccf7f16f10297de6cef3f291623eddf'
Prepend 1976a914 and add 88ac at the end.

To get the signature message:
* Replace scriptSig with the scriptPubKey from previous transaction
* Add sighash at the end (usually SIGHASH_ALL or 1 in little-endian)
* Double-sha256 to get the message

To sign:
>>> secret = <your secret>
>>> z = <your message>
>>> from pycoin.ecdsa import generator_secp256k1 as g
>>> n = 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141
>>> k = randint(0, 2**256)
>>> r = (k*g).pair()[0]
>>> s = (z + r*secret) * pow(k, n-2, n) % n
>>> if s > n/2: s = n - s
>>> from pycoin.tx.script.der import sigencode_der
>>> sigencode_der(r,s).encode('hex')

This is your scriptSig.


1. Send 0.05 TBTC to mnrVtF8DWjMu839VW3rBfgYaAfKk8983Xf
