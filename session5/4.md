
Serialize the Transaction:
* Replace ScriptSig of input you want to sign with RedeemScript from previous transaction
* Add SigHash to end (usually SIGHASH_ALL which is 0x01000000)
* Double-sha256 to get the message
* Derive r,s from signature.

Verify a signature
>>> from pycoin.ecdsa import generator_secp256k1 as g
>>> n = 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141
>>> z = 0x524c14a77b666d906fbe56973becf3b3b9eac65442774473c68407e89c5659de
>>> r = 0xc0824a3ccdf3482f1435ef1917fad4a1d5573a15f0fa18a9b81dc76a941c4a3c
>>> s = 0x84ada30118411ef3f1777690d3dc182c289e04486375e91ba73bc48c51c59da7
>>> pub = g.__class__(g.curve(), 0xe493dbf1c10d80f3581e4904930b1404cc6c13900ee0758474fa94abe8c4cd13, 0x51ed993ea0d455b75642e2098ea51448d967ae33bfbdfe40cfe97bdc47739922)
>>> u = z * pow(s, n-2, n) % n
>>> v = r * pow(s, n-2, n) % n
>>> (u*g + v*pub).pair()[0] == r
True


1. Verify the second signature of the first input.

0100000001868278ed6ddfb6c1ed3ad5f8181eb0c7a385aa0836f01d5e4789e6bd304d87221a000000db00483045022100dc92655fe37036f47756db8102e0d7d5e28b3beb83a8fef4f5dc0559bddfb94e02205a36d4e4e6c7fcd16658c50783e00c341609977aed3ad00937bf4ee942a8993701483045022100da6bee3c93766232079a01639d07fa869598749729ae323eab8eef53577d611b02207bef15429dcadce2121ea07f233115c6f09034c0be68db99980b9a6c5e75402201475221022626e955ea6ea6d98850c994f9107b036b1334f18ca8830bfff1295d21cfdb702103b287eaf122eea69030a0e9feed096bed8045c8b98bec453e1ffac7fbdbd4bb7152aeffffffff04d3b11400000000001976a914904a49878c0adfc3aa05de7afad2cc15f483a56a88ac7f400900000000001976a914418327e3f3dda4cf5b9089325a4b95abdfa0334088ac722c0c00000000001976a914ba35042cfe9fc66fd35ac2224eebdafd1028ad2788acdc4ace020000000017a91474d691da1574e6b3c192ecfb52cc8984ee7b6c568700000000